#include <dt-bindings/zmk/matrix_transform.h>
#include <physical_layouts.dtsi>

/ {
    chosen {
        zmk,physical-layout = &bault35_physical_layout;
    };
    
    bault35_physical_layout: bault35_physical_layout {
        compatible = "zmk,physical-layout";
        display-name = "Default";
        transform = <&default_transform>;
        kscan = <&kscan0>;
    
             keys  //                     w   h    x    y     rot   rx   ry
            = <&key_physical_attrs 100 100    0    0       0    0    0>
            , <&key_physical_attrs 100 100  100    0       0    0    0>
            , <&key_physical_attrs 100 100  200    0       0    0    0>
            , <&key_physical_attrs 100 100  300    0       0    0    0>
            , <&key_physical_attrs 100 100  400    0       0    0    0>
            , <&key_physical_attrs 100 100  500    0       0    0    0>
            , <&key_physical_attrs 100 100  600    0       0    0    0>
            , <&key_physical_attrs 100 100  700    0       0    0    0>
            , <&key_physical_attrs 100 100  800    0       0    0    0>
            , <&key_physical_attrs 100 100  900    0       0    0    0>
            , <&key_physical_attrs 100 100 1000    0       0    0    0>
            , <&key_physical_attrs 125 100    0  100       0    0    0>
            , <&key_physical_attrs 100 100  125  100       0    0    0>
            , <&key_physical_attrs 100 100  225  100       0    0    0>
            , <&key_physical_attrs 100 100  325  100       0    0    0>
            , <&key_physical_attrs 100 100  425  100       0    0    0>
            , <&key_physical_attrs 100 100  525  100       0    0    0>
            , <&key_physical_attrs 100 100  625  100       0    0    0>
            , <&key_physical_attrs 100 100  725  100       0    0    0>
            , <&key_physical_attrs 100 100  825  100       0    0    0>
            , <&key_physical_attrs 175 100  925  100       0    0    0>
            , <&key_physical_attrs 175 100    0  200       0    0    0>
            , <&key_physical_attrs 100 100  175  200       0    0    0>
            , <&key_physical_attrs 100 100  275  200       0    0    0>
            , <&key_physical_attrs 100 100  375  200       0    0    0>
            , <&key_physical_attrs 100 100  475  200       0    0    0>
            , <&key_physical_attrs 100 100  575  200       0    0    0>
            , <&key_physical_attrs 100 100  675  200       0    0    0>
            , <&key_physical_attrs 100 100  775  200       0    0    0>
            , <&key_physical_attrs 100 100  875  200       0    0    0>
            , <&key_physical_attrs 125 100  975  200       0    0    0>
            , <&key_physical_attrs 150 100    0  300       0    0    0>
            , <&key_physical_attrs 100 100  150  300       0    0    0>
            , <&key_physical_attrs 125 100  250  300       0    0    0>
            , <&key_physical_attrs 175 100  375  300       0    0    0>
            , <&key_physical_attrs 175 100  550  300       0    0    0>
            , <&key_physical_attrs 125 100  725  300       0    0    0>
            , <&key_physical_attrs 100 100  850  300       0    0    0>
            , <&key_physical_attrs 150 100  950  300       0    0    0>
            ;
    };

/*
    default_5key_layout: layout_1 {
        compatible = "zmk,physical-layout";
        display-name = "Default / 5-key split";

        transform = <&default_5key_transform>;

        keys  //                     w   h    x    y     rot   rx   ry
            = <&key_physical_attrs 100 100    0    0       0    0    0>
            , <&key_physical_attrs 100 100  100    0       0    0    0>
            , <&key_physical_attrs 100 100  200    0       0    0    0>
            , <&key_physical_attrs 100 100  300    0       0    0    0>
            , <&key_physical_attrs 100 100  400    0       0    0    0>
            , <&key_physical_attrs 100 100  500    0       0    0    0>
            , <&key_physical_attrs 100 100  600    0       0    0    0>
            , <&key_physical_attrs 100 100  700    0       0    0    0>
            , <&key_physical_attrs 100 100  800    0       0    0    0>
            , <&key_physical_attrs 100 100  900    0       0    0    0>
            , <&key_physical_attrs 100 100 1000    0       0    0    0>
            , <&key_physical_attrs 125 100    0  100       0    0    0>
            , <&key_physical_attrs 100 100  125  100       0    0    0>
            , <&key_physical_attrs 100 100  225  100       0    0    0>
            , <&key_physical_attrs 100 100  325  100       0    0    0>
            , <&key_physical_attrs 100 100  425  100       0    0    0>
            , <&key_physical_attrs 100 100  525  100       0    0    0>
            , <&key_physical_attrs 100 100  625  100       0    0    0>
            , <&key_physical_attrs 100 100  725  100       0    0    0>
            , <&key_physical_attrs 100 100  825  100       0    0    0>
            , <&key_physical_attrs 175 100  925  100       0    0    0>
            , <&key_physical_attrs 175 100    0  200       0    0    0>
            , <&key_physical_attrs 100 100  175  200       0    0    0>
            , <&key_physical_attrs 100 100  275  200       0    0    0>
            , <&key_physical_attrs 100 100  375  200       0    0    0>
            , <&key_physical_attrs 100 100  475  200       0    0    0>
            , <&key_physical_attrs 100 100  575  200       0    0    0>
            , <&key_physical_attrs 100 100  675  200       0    0    0>
            , <&key_physical_attrs 100 100  775  200       0    0    0>
            , <&key_physical_attrs 100 100  875  200       0    0    0>
            , <&key_physical_attrs 125 100  975  200       0    0    0>
            , <&key_physical_attrs 150 100    0  300       0    0    0>
            , <&key_physical_attrs 125 100  150  300       0    0    0>
            , <&key_physical_attrs 125 100  275  300       0    0    0>
            , <&key_physical_attrs 300 100  400  300       0    0    0>
            , <&key_physical_attrs 125 100  700  300       0    0    0>
            , <&key_physical_attrs 125 100  825  300       0    0    0>
            , <&key_physical_attrs 150 100  950  300       0    0    0>
            ;
    };

    default_4key_layout: layout_2 {
        compatible = "zmk,physical-layout";
        display-name = "Default / 4-key split";

        transform = <&default_4key_transform>;


        keys  //                     w   h    x    y     rot   rx   ry
            = <&key_physical_attrs 100 100    0    0       0    0    0>
            , <&key_physical_attrs 100 100  100    0       0    0    0>
            , <&key_physical_attrs 100 100  200    0       0    0    0>
            , <&key_physical_attrs 100 100  300    0       0    0    0>
            , <&key_physical_attrs 100 100  400    0       0    0    0>
            , <&key_physical_attrs 100 100  500    0       0    0    0>
            , <&key_physical_attrs 100 100  600    0       0    0    0>
            , <&key_physical_attrs 100 100  700    0       0    0    0>
            , <&key_physical_attrs 100 100  800    0       0    0    0>
            , <&key_physical_attrs 100 100  900    0       0    0    0>
            , <&key_physical_attrs 100 100 1000    0       0    0    0>
            , <&key_physical_attrs 125 100    0  100       0    0    0>
            , <&key_physical_attrs 100 100  125  100       0    0    0>
            , <&key_physical_attrs 100 100  225  100       0    0    0>
            , <&key_physical_attrs 100 100  325  100       0    0    0>
            , <&key_physical_attrs 100 100  425  100       0    0    0>
            , <&key_physical_attrs 100 100  525  100       0    0    0>
            , <&key_physical_attrs 100 100  625  100       0    0    0>
            , <&key_physical_attrs 100 100  725  100       0    0    0>
            , <&key_physical_attrs 100 100  825  100       0    0    0>
            , <&key_physical_attrs 175 100  925  100       0    0    0>
            , <&key_physical_attrs 175 100    0  200       0    0    0>
            , <&key_physical_attrs 100 100  175  200       0    0    0>
            , <&key_physical_attrs 100 100  275  200       0    0    0>
            , <&key_physical_attrs 100 100  375  200       0    0    0>
            , <&key_physical_attrs 100 100  475  200       0    0    0>
            , <&key_physical_attrs 100 100  575  200       0    0    0>
            , <&key_physical_attrs 100 100  675  200       0    0    0>
            , <&key_physical_attrs 100 100  775  200       0    0    0>
            , <&key_physical_attrs 100 100  875  200       0    0    0>
            , <&key_physical_attrs 125 100  975  200       0    0    0>
            , <&key_physical_attrs 150 100    0  300       0    0    0>
            , <&key_physical_attrs 100 100  150  300       0    0    0>
            , <&key_physical_attrs 300 100  250  300       0    0    0>
            , <&key_physical_attrs 300 100  550  300       0    0    0>
            , <&key_physical_attrs 100 100  850  300       0    0    0>
            , <&key_physical_attrs 150 100  950  300       0    0    0>
            ;
    };

    default_bigbar_layout: layout_3 {
        compatible = "zmk,physical-layout";
        display-name = "Default / Big Bar";

        transform = <&default_bigbar_transform>;

        keys  //                     w   h    x    y     rot   rx   ry
            = <&key_physical_attrs 100 100    0    0       0    0    0>
            , <&key_physical_attrs 100 100  100    0       0    0    0>
            , <&key_physical_attrs 100 100  200    0       0    0    0>
            , <&key_physical_attrs 100 100  300    0       0    0    0>
            , <&key_physical_attrs 100 100  400    0       0    0    0>
            , <&key_physical_attrs 100 100  500    0       0    0    0>
            , <&key_physical_attrs 100 100  600    0       0    0    0>
            , <&key_physical_attrs 100 100  700    0       0    0    0>
            , <&key_physical_attrs 100 100  800    0       0    0    0>
            , <&key_physical_attrs 100 100  900    0       0    0    0>
            , <&key_physical_attrs 100 100 1000    0       0    0    0>
            , <&key_physical_attrs 125 100    0  100       0    0    0>
            , <&key_physical_attrs 100 100  125  100       0    0    0>
            , <&key_physical_attrs 100 100  225  100       0    0    0>
            , <&key_physical_attrs 100 100  325  100       0    0    0>
            , <&key_physical_attrs 100 100  425  100       0    0    0>
            , <&key_physical_attrs 100 100  525  100       0    0    0>
            , <&key_physical_attrs 100 100  625  100       0    0    0>
            , <&key_physical_attrs 100 100  725  100       0    0    0>
            , <&key_physical_attrs 100 100  825  100       0    0    0>
            , <&key_physical_attrs 175 100  925  100       0    0    0>
            , <&key_physical_attrs 175 100    0  200       0    0    0>
            , <&key_physical_attrs 100 100  175  200       0    0    0>
            , <&key_physical_attrs 100 100  275  200       0    0    0>
            , <&key_physical_attrs 100 100  375  200       0    0    0>
            , <&key_physical_attrs 100 100  475  200       0    0    0>
            , <&key_physical_attrs 100 100  575  200       0    0    0>
            , <&key_physical_attrs 100 100  675  200       0    0    0>
            , <&key_physical_attrs 100 100  775  200       0    0    0>
            , <&key_physical_attrs 100 100  875  200       0    0    0>
            , <&key_physical_attrs 125 100  975  200       0    0    0>
            , <&key_physical_attrs 150 100    0  300       0    0    0>
            , <&key_physical_attrs 100 100  150  300       0    0    0>
            , <&key_physical_attrs 600 100  250  300       0    0    0>
            , <&key_physical_attrs 100 100  850  300       0    0    0>
            , <&key_physical_attrs 150 100  950  300       0    0    0>
            ;
    };
*/

    hhkb_layout: layout_4 {
        compatible = "zmk,physical-layout";
        display-name = "HHKB";

        transform = <&hhkb_transform>;

        keys  //                     w   h    x    y     rot   rx   ry
            = <&key_physical_attrs 100 100    0    0       0    0    0>
            , <&key_physical_attrs 100 100  100    0       0    0    0>
            , <&key_physical_attrs 100 100  200    0       0    0    0>
            , <&key_physical_attrs 100 100  300    0       0    0    0>
            , <&key_physical_attrs 100 100  400    0       0    0    0>
            , <&key_physical_attrs 100 100  500    0       0    0    0>
            , <&key_physical_attrs 100 100  600    0       0    0    0>
            , <&key_physical_attrs 100 100  700    0       0    0    0>
            , <&key_physical_attrs 100 100  800    0       0    0    0>
            , <&key_physical_attrs 100 100  900    0       0    0    0>
            , <&key_physical_attrs 100 100 1000    0       0    0    0>
            , <&key_physical_attrs 125 100    0  100       0    0    0>
            , <&key_physical_attrs 100 100  125  100       0    0    0>
            , <&key_physical_attrs 100 100  225  100       0    0    0>
            , <&key_physical_attrs 100 100  325  100       0    0    0>
            , <&key_physical_attrs 100 100  425  100       0    0    0>
            , <&key_physical_attrs 100 100  525  100       0    0    0>
            , <&key_physical_attrs 100 100  625  100       0    0    0>
            , <&key_physical_attrs 100 100  725  100       0    0    0>
            , <&key_physical_attrs 100 100  825  100       0    0    0>
            , <&key_physical_attrs 175 100  925  100       0    0    0>
            , <&key_physical_attrs 175 100    0  200       0    0    0>
            , <&key_physical_attrs 100 100  175  200       0    0    0>
            , <&key_physical_attrs 100 100  275  200       0    0    0>
            , <&key_physical_attrs 100 100  375  200       0    0    0>
            , <&key_physical_attrs 100 100  475  200       0    0    0>
            , <&key_physical_attrs 100 100  575  200       0    0    0>
            , <&key_physical_attrs 100 100  675  200       0    0    0>
            , <&key_physical_attrs 100 100  775  200       0    0    0>
            , <&key_physical_attrs 100 100  875  200       0    0    0>
            , <&key_physical_attrs 125 100  975  200       0    0    0>
            , <&key_physical_attrs 100 100  150  300       0    0    0>
            , <&key_physical_attrs 125 100  250  300       0    0    0>
            , <&key_physical_attrs 175 100  375  300       0    0    0>
            , <&key_physical_attrs 175 100  550  300       0    0    0>
            , <&key_physical_attrs 125 100  725  300       0    0    0>
            , <&key_physical_attrs 100 100  850  300       0    0    0>
            ;
    };

/*
    hhkb_5key_layout: layout_5 {
        compatible = "zmk,physical-layout";
        display-name = "HHKB / 5-key split";

        transform = <&hhkb_5key_transform>;

        keys  //                     w   h    x    y     rot   rx   ry
            = <&key_physical_attrs 100 100    0    0       0    0    0>
            , <&key_physical_attrs 100 100  100    0       0    0    0>
            , <&key_physical_attrs 100 100  200    0       0    0    0>
            , <&key_physical_attrs 100 100  300    0       0    0    0>
            , <&key_physical_attrs 100 100  400    0       0    0    0>
            , <&key_physical_attrs 100 100  500    0       0    0    0>
            , <&key_physical_attrs 100 100  600    0       0    0    0>
            , <&key_physical_attrs 100 100  700    0       0    0    0>
            , <&key_physical_attrs 100 100  800    0       0    0    0>
            , <&key_physical_attrs 100 100  900    0       0    0    0>
            , <&key_physical_attrs 100 100 1000    0       0    0    0>
            , <&key_physical_attrs 125 100    0  100       0    0    0>
            , <&key_physical_attrs 100 100  125  100       0    0    0>
            , <&key_physical_attrs 100 100  225  100       0    0    0>
            , <&key_physical_attrs 100 100  325  100       0    0    0>
            , <&key_physical_attrs 100 100  425  100       0    0    0>
            , <&key_physical_attrs 100 100  525  100       0    0    0>
            , <&key_physical_attrs 100 100  625  100       0    0    0>
            , <&key_physical_attrs 100 100  725  100       0    0    0>
            , <&key_physical_attrs 100 100  825  100       0    0    0>
            , <&key_physical_attrs 175 100  925  100       0    0    0>
            , <&key_physical_attrs 175 100    0  200       0    0    0>
            , <&key_physical_attrs 100 100  175  200       0    0    0>
            , <&key_physical_attrs 100 100  275  200       0    0    0>
            , <&key_physical_attrs 100 100  375  200       0    0    0>
            , <&key_physical_attrs 100 100  475  200       0    0    0>
            , <&key_physical_attrs 100 100  575  200       0    0    0>
            , <&key_physical_attrs 100 100  675  200       0    0    0>
            , <&key_physical_attrs 100 100  775  200       0    0    0>
            , <&key_physical_attrs 100 100  875  200       0    0    0>
            , <&key_physical_attrs 125 100  975  200       0    0    0>
            , <&key_physical_attrs 125 100  150  300       0    0    0>
            , <&key_physical_attrs 125 100  275  300       0    0    0>
            , <&key_physical_attrs 300 100  400  300       0    0    0>
            , <&key_physical_attrs 125 100  700  300       0    0    0>
            , <&key_physical_attrs 125 100  825  300       0    0    0>
            ;
    };

    hhkb_4key_layout: layout_6 {
        compatible = "zmk,physical-layout";
        display-name = "HHKB / 4-key split";

        transform = <&hhkb_4key_transform>;

        keys  //                     w   h    x    y     rot   rx   ry
            = <&key_physical_attrs 100 100    0    0       0    0    0>
            , <&key_physical_attrs 100 100  100    0       0    0    0>
            , <&key_physical_attrs 100 100  200    0       0    0    0>
            , <&key_physical_attrs 100 100  300    0       0    0    0>
            , <&key_physical_attrs 100 100  400    0       0    0    0>
            , <&key_physical_attrs 100 100  500    0       0    0    0>
            , <&key_physical_attrs 100 100  600    0       0    0    0>
            , <&key_physical_attrs 100 100  700    0       0    0    0>
            , <&key_physical_attrs 100 100  800    0       0    0    0>
            , <&key_physical_attrs 100 100  900    0       0    0    0>
            , <&key_physical_attrs 100 100 1000    0       0    0    0>
            , <&key_physical_attrs 125 100    0  100       0    0    0>
            , <&key_physical_attrs 100 100  125  100       0    0    0>
            , <&key_physical_attrs 100 100  225  100       0    0    0>
            , <&key_physical_attrs 100 100  325  100       0    0    0>
            , <&key_physical_attrs 100 100  425  100       0    0    0>
            , <&key_physical_attrs 100 100  525  100       0    0    0>
            , <&key_physical_attrs 100 100  625  100       0    0    0>
            , <&key_physical_attrs 100 100  725  100       0    0    0>
            , <&key_physical_attrs 100 100  825  100       0    0    0>
            , <&key_physical_attrs 175 100  925  100       0    0    0>
            , <&key_physical_attrs 175 100    0  200       0    0    0>
            , <&key_physical_attrs 100 100  175  200       0    0    0>
            , <&key_physical_attrs 100 100  275  200       0    0    0>
            , <&key_physical_attrs 100 100  375  200       0    0    0>
            , <&key_physical_attrs 100 100  475  200       0    0    0>
            , <&key_physical_attrs 100 100  575  200       0    0    0>
            , <&key_physical_attrs 100 100  675  200       0    0    0>
            , <&key_physical_attrs 100 100  775  200       0    0    0>
            , <&key_physical_attrs 100 100  875  200       0    0    0>
            , <&key_physical_attrs 125 100  975  200       0    0    0>
            , <&key_physical_attrs 100 100  150  300       0    0    0>
            , <&key_physical_attrs 300 100  250  300       0    0    0>
            , <&key_physical_attrs 300 100  550  300       0    0    0>
            , <&key_physical_attrs 100 100  850  300       0    0    0>
            ;
    };

    hhkb_bigbar_layout: layout_7 {
        compatible = "zmk,physical-layout";
        display-name = "HHKB / Big Bar";

        transform = <&hhkb_bigbar_transform>;

        keys  //                     w   h    x    y     rot   rx   ry
            = <&key_physical_attrs 100 100    0    0       0    0    0>
            , <&key_physical_attrs 100 100  100    0       0    0    0>
            , <&key_physical_attrs 100 100  200    0       0    0    0>
            , <&key_physical_attrs 100 100  300    0       0    0    0>
            , <&key_physical_attrs 100 100  400    0       0    0    0>
            , <&key_physical_attrs 100 100  500    0       0    0    0>
            , <&key_physical_attrs 100 100  600    0       0    0    0>
            , <&key_physical_attrs 100 100  700    0       0    0    0>
            , <&key_physical_attrs 100 100  800    0       0    0    0>
            , <&key_physical_attrs 100 100  900    0       0    0    0>
            , <&key_physical_attrs 100 100 1000    0       0    0    0>
            , <&key_physical_attrs 125 100    0  100       0    0    0>
            , <&key_physical_attrs 100 100  125  100       0    0    0>
            , <&key_physical_attrs 100 100  225  100       0    0    0>
            , <&key_physical_attrs 100 100  325  100       0    0    0>
            , <&key_physical_attrs 100 100  425  100       0    0    0>
            , <&key_physical_attrs 100 100  525  100       0    0    0>
            , <&key_physical_attrs 100 100  625  100       0    0    0>
            , <&key_physical_attrs 100 100  725  100       0    0    0>
            , <&key_physical_attrs 100 100  825  100       0    0    0>
            , <&key_physical_attrs 175 100  925  100       0    0    0>
            , <&key_physical_attrs 175 100    0  200       0    0    0>
            , <&key_physical_attrs 100 100  175  200       0    0    0>
            , <&key_physical_attrs 100 100  275  200       0    0    0>
            , <&key_physical_attrs 100 100  375  200       0    0    0>
            , <&key_physical_attrs 100 100  475  200       0    0    0>
            , <&key_physical_attrs 100 100  575  200       0    0    0>
            , <&key_physical_attrs 100 100  675  200       0    0    0>
            , <&key_physical_attrs 100 100  775  200       0    0    0>
            , <&key_physical_attrs 100 100  875  200       0    0    0>
            , <&key_physical_attrs 125 100  975  200       0    0    0>
            , <&key_physical_attrs 100 100  150  300       0    0    0>
            , <&key_physical_attrs 600 100  250  300       0    0    0>
            , <&key_physical_attrs 100 100  850  300       0    0    0>
            ;
    };
*/

    wkl_layout: layout_8 {
        compatible = "zmk,physical-layout";
        display-name = "WKL";

        transform = <&wkl_transform>;

        keys  //                     w   h    x    y     rot   rx   ry
            = <&key_physical_attrs 100 100    0    0       0    0    0>
            , <&key_physical_attrs 100 100  100    0       0    0    0>
            , <&key_physical_attrs 100 100  200    0       0    0    0>
            , <&key_physical_attrs 100 100  300    0       0    0    0>
            , <&key_physical_attrs 100 100  400    0       0    0    0>
            , <&key_physical_attrs 100 100  500    0       0    0    0>
            , <&key_physical_attrs 100 100  600    0       0    0    0>
            , <&key_physical_attrs 100 100  700    0       0    0    0>
            , <&key_physical_attrs 100 100  800    0       0    0    0>
            , <&key_physical_attrs 100 100  900    0       0    0    0>
            , <&key_physical_attrs 100 100 1000    0       0    0    0>
            , <&key_physical_attrs 125 100    0  100       0    0    0>
            , <&key_physical_attrs 100 100  125  100       0    0    0>
            , <&key_physical_attrs 100 100  225  100       0    0    0>
            , <&key_physical_attrs 100 100  325  100       0    0    0>
            , <&key_physical_attrs 100 100  425  100       0    0    0>
            , <&key_physical_attrs 100 100  525  100       0    0    0>
            , <&key_physical_attrs 100 100  625  100       0    0    0>
            , <&key_physical_attrs 100 100  725  100       0    0    0>
            , <&key_physical_attrs 100 100  825  100       0    0    0>
            , <&key_physical_attrs 175 100  925  100       0    0    0>
            , <&key_physical_attrs 175 100    0  200       0    0    0>
            , <&key_physical_attrs 100 100  175  200       0    0    0>
            , <&key_physical_attrs 100 100  275  200       0    0    0>
            , <&key_physical_attrs 100 100  375  200       0    0    0>
            , <&key_physical_attrs 100 100  475  200       0    0    0>
            , <&key_physical_attrs 100 100  575  200       0    0    0>
            , <&key_physical_attrs 100 100  675  200       0    0    0>
            , <&key_physical_attrs 100 100  775  200       0    0    0>
            , <&key_physical_attrs 100 100  875  200       0    0    0>
            , <&key_physical_attrs 125 100  975  200       0    0    0>
            , <&key_physical_attrs 150 100    0  300       0    0    0>
            , <&key_physical_attrs 125 100  250  300       0    0    0>
            , <&key_physical_attrs 175 100  375  300       0    0    0>
            , <&key_physical_attrs 175 100  550  300       0    0    0>
            , <&key_physical_attrs 125 100  725  300       0    0    0>
            , <&key_physical_attrs 150 100  950  300       0    0    0>
            ;
    };

/*
    wkl_3key_layout: layout_9 {
        compatible = "zmk,physical-layout";
        display-name = "WKL / 3-key split";

        transform = <&wkl_3key_transform>;

        keys  //                     w   h    x    y     rot   rx   ry
            = <&key_physical_attrs 100 100    0    0       0    0    0>
            , <&key_physical_attrs 100 100  100    0       0    0    0>
            , <&key_physical_attrs 100 100  200    0       0    0    0>
            , <&key_physical_attrs 100 100  300    0       0    0    0>
            , <&key_physical_attrs 100 100  400    0       0    0    0>
            , <&key_physical_attrs 100 100  500    0       0    0    0>
            , <&key_physical_attrs 100 100  600    0       0    0    0>
            , <&key_physical_attrs 100 100  700    0       0    0    0>
            , <&key_physical_attrs 100 100  800    0       0    0    0>
            , <&key_physical_attrs 100 100  900    0       0    0    0>
            , <&key_physical_attrs 100 100 1000    0       0    0    0>
            , <&key_physical_attrs 125 100    0  100       0    0    0>
            , <&key_physical_attrs 100 100  125  100       0    0    0>
            , <&key_physical_attrs 100 100  225  100       0    0    0>
            , <&key_physical_attrs 100 100  325  100       0    0    0>
            , <&key_physical_attrs 100 100  425  100       0    0    0>
            , <&key_physical_attrs 100 100  525  100       0    0    0>
            , <&key_physical_attrs 100 100  625  100       0    0    0>
            , <&key_physical_attrs 100 100  725  100       0    0    0>
            , <&key_physical_attrs 100 100  825  100       0    0    0>
            , <&key_physical_attrs 175 100  925  100       0    0    0>
            , <&key_physical_attrs 175 100    0  200       0    0    0>
            , <&key_physical_attrs 100 100  175  200       0    0    0>
            , <&key_physical_attrs 100 100  275  200       0    0    0>
            , <&key_physical_attrs 100 100  375  200       0    0    0>
            , <&key_physical_attrs 100 100  475  200       0    0    0>
            , <&key_physical_attrs 100 100  575  200       0    0    0>
            , <&key_physical_attrs 100 100  675  200       0    0    0>
            , <&key_physical_attrs 100 100  775  200       0    0    0>
            , <&key_physical_attrs 100 100  875  200       0    0    0>
            , <&key_physical_attrs 125 100  975  200       0    0    0>
            , <&key_physical_attrs 150 100    0  300       0    0    0>
            , <&key_physical_attrs 150 100  250  300       0    0    0>
            , <&key_physical_attrs 300 100  400  300       0    0    0>
            , <&key_physical_attrs 150 100  700  300       0    0    0>
            , <&key_physical_attrs 150 100  950  300       0    0    0>
            ;
    };

    wkl_2key_layout: layout_10 {
        compatible = "zmk,physical-layout";
        display-name = "WKL / 2-key split";

        transform = <&wkl_2key_transform>;

        keys  //                     w   h    x    y     rot   rx   ry
            = <&key_physical_attrs 100 100    0    0       0    0    0>
            , <&key_physical_attrs 100 100  100    0       0    0    0>
            , <&key_physical_attrs 100 100  200    0       0    0    0>
            , <&key_physical_attrs 100 100  300    0       0    0    0>
            , <&key_physical_attrs 100 100  400    0       0    0    0>
            , <&key_physical_attrs 100 100  500    0       0    0    0>
            , <&key_physical_attrs 100 100  600    0       0    0    0>
            , <&key_physical_attrs 100 100  700    0       0    0    0>
            , <&key_physical_attrs 100 100  800    0       0    0    0>
            , <&key_physical_attrs 100 100  900    0       0    0    0>
            , <&key_physical_attrs 100 100 1000    0       0    0    0>
            , <&key_physical_attrs 125 100    0  100       0    0    0>
            , <&key_physical_attrs 100 100  125  100       0    0    0>
            , <&key_physical_attrs 100 100  225  100       0    0    0>
            , <&key_physical_attrs 100 100  325  100       0    0    0>
            , <&key_physical_attrs 100 100  425  100       0    0    0>
            , <&key_physical_attrs 100 100  525  100       0    0    0>
            , <&key_physical_attrs 100 100  625  100       0    0    0>
            , <&key_physical_attrs 100 100  725  100       0    0    0>
            , <&key_physical_attrs 100 100  825  100       0    0    0>
            , <&key_physical_attrs 175 100  925  100       0    0    0>
            , <&key_physical_attrs 175 100    0  200       0    0    0>
            , <&key_physical_attrs 100 100  175  200       0    0    0>
            , <&key_physical_attrs 100 100  275  200       0    0    0>
            , <&key_physical_attrs 100 100  375  200       0    0    0>
            , <&key_physical_attrs 100 100  475  200       0    0    0>
            , <&key_physical_attrs 100 100  575  200       0    0    0>
            , <&key_physical_attrs 100 100  675  200       0    0    0>
            , <&key_physical_attrs 100 100  775  200       0    0    0>
            , <&key_physical_attrs 100 100  875  200       0    0    0>
            , <&key_physical_attrs 125 100  975  200       0    0    0>
            , <&key_physical_attrs 150 100    0  300       0    0    0>
            , <&key_physical_attrs 300 100  250  300       0    0    0>
            , <&key_physical_attrs 300 100  550  300       0    0    0>
            , <&key_physical_attrs 150 100  950  300       0    0    0>
            ;
    };

    wkl_bigbar_layout: layout_11 {
        compatible = "zmk,physical-layout";
        display-name = "WKL / Big Bar";

        transform = <&wkl_bigbar_transform>;

        keys  //                     w   h    x    y     rot   rx   ry
            = <&key_physical_attrs 100 100    0    0       0    0    0>
            , <&key_physical_attrs 100 100  100    0       0    0    0>
            , <&key_physical_attrs 100 100  200    0       0    0    0>
            , <&key_physical_attrs 100 100  300    0       0    0    0>
            , <&key_physical_attrs 100 100  400    0       0    0    0>
            , <&key_physical_attrs 100 100  500    0       0    0    0>
            , <&key_physical_attrs 100 100  600    0       0    0    0>
            , <&key_physical_attrs 100 100  700    0       0    0    0>
            , <&key_physical_attrs 100 100  800    0       0    0    0>
            , <&key_physical_attrs 100 100  900    0       0    0    0>
            , <&key_physical_attrs 100 100 1000    0       0    0    0>
            , <&key_physical_attrs 125 100    0  100       0    0    0>
            , <&key_physical_attrs 100 100  125  100       0    0    0>
            , <&key_physical_attrs 100 100  225  100       0    0    0>
            , <&key_physical_attrs 100 100  325  100       0    0    0>
            , <&key_physical_attrs 100 100  425  100       0    0    0>
            , <&key_physical_attrs 100 100  525  100       0    0    0>
            , <&key_physical_attrs 100 100  625  100       0    0    0>
            , <&key_physical_attrs 100 100  725  100       0    0    0>
            , <&key_physical_attrs 100 100  825  100       0    0    0>
            , <&key_physical_attrs 175 100  925  100       0    0    0>
            , <&key_physical_attrs 175 100    0  200       0    0    0>
            , <&key_physical_attrs 100 100  175  200       0    0    0>
            , <&key_physical_attrs 100 100  275  200       0    0    0>
            , <&key_physical_attrs 100 100  375  200       0    0    0>
            , <&key_physical_attrs 100 100  475  200       0    0    0>
            , <&key_physical_attrs 100 100  575  200       0    0    0>
            , <&key_physical_attrs 100 100  675  200       0    0    0>
            , <&key_physical_attrs 100 100  775  200       0    0    0>
            , <&key_physical_attrs 100 100  875  200       0    0    0>
            , <&key_physical_attrs 125 100  975  200       0    0    0>
            , <&key_physical_attrs 150 100    0  300       0    0    0>
            , <&key_physical_attrs 600 100  250  300       0    0    0>
            , <&key_physical_attrs 150 100  950  300       0    0    0>
            ;
    };
*/
};

/ {
    default_transform: keymap_transform_0 {
        compatible = "zmk,matrix-transform";
        columns = <11>;
        rows = <4>;
        map = <
            RC(0,0) RC(0,1) RC(0,2) RC(0,3) RC(0,4) RC(0,5) RC(0,6) RC(0,7) RC(0,8) RC(0,9) RC(0,10)
            RC(1,0) RC(1,1) RC(1,2) RC(1,3) RC(1,4) RC(1,5) RC(1,6) RC(1,7) RC(1,8) RC(1,9)
            RC(2,0) RC(2,1) RC(2,2) RC(2,3) RC(2,4) RC(2,5) RC(2,6) RC(2,7) RC(2,8) RC(2,9)
            RC(3,0) RC(3,1) RC(3,2) RC(3,3)         RC(3,5)         RC(3,7) RC(3,8) RC(3,9)
            >;
    };

    hhkb_transform: keymap_transform_4 {
        compatible = "zmk,matrix-transform";
        columns = <11>;
        rows = <4>;
        map = <
            RC(0,0) RC(0,1) RC(0,2) RC(0,3) RC(0,4) RC(0,5) RC(0,6) RC(0,7) RC(0,8) RC(0,9) RC(0,10)
            RC(1,0) RC(1,1) RC(1,2) RC(1,3) RC(1,4) RC(1,5) RC(1,6) RC(1,7) RC(1,8) RC(1,9)
            RC(2,0) RC(2,1) RC(2,2) RC(2,3) RC(2,4) RC(2,5) RC(2,6) RC(2,7) RC(2,8) RC(2,9)
                    RC(3,1) RC(3,2) RC(3,3)         RC(3,5)         RC(3,7) RC(3,8)
            >;
    };

    wkl_transform: keymap_transform_8 {
        compatible = "zmk,matrix-transform";
        columns = <11>;
        rows = <4>;
        map = <
            RC(0,0) RC(0,1) RC(0,2) RC(0,3) RC(0,4) RC(0,5) RC(0,6) RC(0,7) RC(0,8) RC(0,9) RC(0,10)
            RC(1,0) RC(1,1) RC(1,2) RC(1,3) RC(1,4) RC(1,5) RC(1,6) RC(1,7) RC(1,8) RC(1,9)
            RC(2,0) RC(2,1) RC(2,2) RC(2,3) RC(2,4) RC(2,5) RC(2,6) RC(2,7) RC(2,8) RC(2,9)
            RC(3,0)         RC(3,2) RC(3,3)         RC(3,5)         RC(3,7)         RC(3,9)
            >;
    };
};
    kscan0: kscan {
        compatible = "zmk,kscan-gpio-matrix";
        diode-direction = "col2row";
        wakeup-source;

        row-gpios
            = <&gpio1 11 (GPIO_ACTIVE_HIGH | GPIO_PULL_DOWN)>
            , <&gpio0 30 (GPIO_ACTIVE_HIGH | GPIO_PULL_DOWN)>
            , <&gpio0 28 (GPIO_ACTIVE_HIGH | GPIO_PULL_DOWN)>
            , <&gpio0  3 (GPIO_ACTIVE_HIGH | GPIO_PULL_DOWN)>
            ;
        col-gpios
            = <&gpio1  9 GPIO_ACTIVE_HIGH>
            , <&gpio0  5 GPIO_ACTIVE_HIGH>
            , <&gpio0 29 GPIO_ACTIVE_HIGH>
            , <&gpio0  2 GPIO_ACTIVE_HIGH>
            , <&gpio1 13 GPIO_ACTIVE_HIGH>
            , <&gpio0 24 GPIO_ACTIVE_HIGH>
            , <&gpio0  9 GPIO_ACTIVE_HIGH>
            , <&gpio0 10 GPIO_ACTIVE_HIGH>
            , <&gpio0 13 GPIO_ACTIVE_HIGH>
            , <&gpio0 31 GPIO_ACTIVE_HIGH>
            , <&gpio1 10 GPIO_ACTIVE_HIGH>
            ;
    };

